function _0x4d28(_0x51f351,_0x55c8e0){const _0x1c87d6=_0x1c87();return _0x4d28=function(_0x4d281d,_0x59d8ab){_0x4d281d=_0x4d281d-0xed;let _0xee134b=_0x1c87d6[_0x4d281d];return _0xee134b;},_0x4d28(_0x51f351,_0x55c8e0);}const _0x283076=_0x4d28;(function(_0xe4bb1b,_0x485f96){const _0x46bc3c=_0x4d28,_0x25be34=_0xe4bb1b();while(!![]){try{const _0x1d182e=-parseInt(_0x46bc3c(0x10a))/0x1*(-parseInt(_0x46bc3c(0x113))/0x2)+-parseInt(_0x46bc3c(0x10e))/0x3+-parseInt(_0x46bc3c(0xed))/0x4*(parseInt(_0x46bc3c(0xf3))/0x5)+-parseInt(_0x46bc3c(0x118))/0x6*(parseInt(_0x46bc3c(0xf5))/0x7)+-parseInt(_0x46bc3c(0x102))/0x8*(-parseInt(_0x46bc3c(0x11a))/0x9)+parseInt(_0x46bc3c(0xef))/0xa*(-parseInt(_0x46bc3c(0xf9))/0xb)+-parseInt(_0x46bc3c(0x115))/0xc*(-parseInt(_0x46bc3c(0xfb))/0xd);if(_0x1d182e===_0x485f96)break;else _0x25be34['push'](_0x25be34['shift']());}catch(_0x153392){_0x25be34['push'](_0x25be34['shift']());}}}(_0x1c87,0xb32da));const SupabaseAdmin=(function(){const _0x32bb73=_0x4d28,_0x2f2d62=_0x32bb73(0x11b);async function _0x543a42(_0x49e167,_0x105623,_0x2a639f={}){const _0x6dc974=_0x32bb73,_0x5788d6=Auth[_0x6dc974(0xee)]();if(!_0x5788d6)throw new Error('Не\x20авторизован');const {data:{session:_0x118bf4},error:_0xcfdcdf}=await supabaseClient['auth']['getSession']();if(_0xcfdcdf||!_0x118bf4){console['error'](_0x6dc974(0x101),_0xcfdcdf);throw new Error('Сессия\x20истекла.\x20Пожалуйста,\x20выполните\x20вход\x20заново.');}console[_0x6dc974(0x107)](_0x6dc974(0x103)+_0x49e167+_0x6dc974(0x119)+_0x105623,{'token':_0x118bf4[_0x6dc974(0x106)]['substring'](0x0,0x14)+_0x6dc974(0x11f),'user':_0x5788d6[_0x6dc974(0x100)]});try{const _0x5b76fb=await fetch(_0x2f2d62,{'method':_0x6dc974(0x105),'headers':{'Content-Type':_0x6dc974(0x11d),'Authorization':'Bearer\x20'+_0x118bf4[_0x6dc974(0x106)]},'body':JSON[_0x6dc974(0x109)]({'action':_0x49e167,'userId':_0x105623,'data':_0x2a639f})}),_0x11ddfe=await _0x5b76fb[_0x6dc974(0xf7)]();console[_0x6dc974(0x107)](_0x6dc974(0x11e),{'status':_0x5b76fb[_0x6dc974(0x10b)],'result':_0x11ddfe});if(!_0x5b76fb['ok']){let _0x49ed0f=_0x11ddfe[_0x6dc974(0x111)]||'Ошибка\x20при\x20выполнении\x20операции';if(_0x49e167==='deleteUser'){if(_0x5b76fb[_0x6dc974(0x10b)]===0x190){if(_0x49ed0f[_0x6dc974(0x10c)](_0x6dc974(0xf4)))return console['warn'](_0x6dc974(0xf2)),{'user':{'id':_0x105623,'already_deleted':!![]}};(_0x49ed0f[_0x6dc974(0x10c)](_0x6dc974(0x108))||_0x49ed0f[_0x6dc974(0x10c)]('denied'))&&(_0x49ed0f=_0x6dc974(0x110));}}_0x49e167===_0x6dc974(0x104)&&_0x2a639f[_0x6dc974(0x117)]&&((_0x49ed0f[_0x6dc974(0x10c)](_0x6dc974(0xf8))||_0x49ed0f[_0x6dc974(0x10c)](_0x6dc974(0xf0)))&&(_0x49ed0f=_0x6dc974(0x10d)));throw new Error(ErrorHandler['localizeError'](_0x49ed0f));}return _0x11ddfe['data'];}catch(_0x170856){console[_0x6dc974(0x111)]('Admin\x20function\x20error:',_0x170856);if(_0x170856[_0x6dc974(0xfc)][_0x6dc974(0x10c)](_0x6dc974(0xf6)))throw new Error(_0x6dc974(0xf1));throw _0x170856;}}async function _0x45ba30(_0x12a617,_0x5b25db){return _0x543a42('updateUser',_0x12a617,{'password':_0x5b25db});}async function _0x36460b(_0x4cd78a,_0x4a97a8){const _0x2b6fdd=_0x32bb73;if(!_0x4a97a8||!_0x4a97a8[_0x2b6fdd(0x10c)]('@'))throw new Error('Некорректный\x20формат\x20email');return _0x543a42(_0x2b6fdd(0x104),_0x4cd78a,{'email':_0x4a97a8});}async function _0x196520(_0x56b620,_0x5ee9b3){const _0x4af4e6=_0x32bb73;return _0x543a42(_0x4af4e6(0x104),_0x56b620,{'user_metadata':_0x5ee9b3});}async function _0x2d0dd2(_0x229524){const _0x3fb02f=_0x32bb73;return _0x543a42(_0x3fb02f(0xff),null,{'email':_0x229524[_0x3fb02f(0x117)],'password':_0x229524[_0x3fb02f(0x114)],'email_confirm':!![],'user_metadata':_0x229524[_0x3fb02f(0x10f)]});}async function _0x6798ba(_0x1c749a){const _0x524885=_0x32bb73;try{return await _0x543a42(_0x524885(0x112),_0x1c749a);}catch(_0x197564){if(_0x197564[_0x524885(0xfc)]['includes'](_0x524885(0xf4)))return console[_0x524885(0xfe)](_0x524885(0xfd)),{'user':{'id':_0x1c749a,'not_found':!![]}};throw _0x197564;}}async function _0xf4ac6e(_0x30cc2c){const _0x137bc6=_0x32bb73;return _0x543a42(_0x137bc6(0xfa),_0x30cc2c);}async function _0x23e576(_0x16d92,_0x11a189=null){const _0x259b58=_0x32bb73;return _0x543a42(_0x259b58(0x104),_0x16d92,{'ban_duration':_0x11a189?_0x259b58(0x116):null});}return{'updateUserPassword':_0x45ba30,'updateUserEmail':_0x36460b,'updateUserMetadata':_0x196520,'createUser':_0x2d0dd2,'deleteUser':_0x6798ba,'getUserById':_0xf4ac6e,'toggleUserBan':_0x23e576};}());window[_0x283076(0x11c)]=SupabaseAdmin;function _0x1c87(){const _0x2577e5=['Failed\x20to\x20fetch','json','email\x20already\x20exists','115412RfTdCy','getUser','13JjQfui','message','User\x20not\x20found\x20in\x20auth,\x20proceeding\x20with\x20local\x20deletion','warn','createUser','nickname','Session\x20error:','10581096fkKExd','Calling\x20admin\x20function:\x20','updateUser','POST','access_token','log','permission','stringify','81770tSlApZ','status','includes','Пользователь\x20с\x20таким\x20логином\x20(email)\x20уже\x20существует','2734302flXhbt','metadata','Недостаточно\x20прав\x20для\x20удаления\x20пользователя.\x20Проверьте\x20настройки\x20сервисной\x20роли.','error','deleteUser','10exXOwI','password','25772760EPKBVT','8760h','email','180dtwKDe','\x20for\x20user:\x20','9tFfdYJ','https://rsxwekxpmqcrpbuwcljp.supabase.co/functions/v1/admin-users','SupabaseAdmin','application/json','Admin\x20function\x20response:','...','4elcInT','getCurrentUser','1090IFzBpX','duplicate\x20key','Не\x20удалось\x20подключиться\x20к\x20серверу.\x20Проверьте\x20подключение\x20к\x20интернету.','User\x20already\x20deleted\x20in\x20auth,\x20continuing...','363355gksLRC','not\x20found','237433UmbiTf'];_0x1c87=function(){return _0x2577e5;};return _0x1c87();}
